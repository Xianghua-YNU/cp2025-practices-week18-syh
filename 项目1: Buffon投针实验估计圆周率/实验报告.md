
# 实验报告：Buffon 投针实验估计 $\pi$ 值

**学生姓名：** [姓名] 

**学号：** [学号] 

**完成日期：** [日期]

## 一、实验目的
编写程序，利用 Buffon 投针实验来估计 $\pi$ 的值，并分析实验次数对估计精度的影响。

## 二、实验原理
简要描述 Buffon 投针实验的原理，包括投针概率与 $\pi$ 的关系公式。

Buffon 投针实验的原理基于几何概率：在一组间距为 d 的平行线上，投掷长度为 l 的针，针与线相交的概率 P 与 π 存在数学关系。当 \(l = d\) 时，相交概率公式为：\(P = \frac{2l}{\pi d} = \frac{2}{\pi}\)通过大量重复实验，统计针与线相交的次数 m 和总实验次数 n，可得概率近似值 \(P \approx \frac{m}{n}\)，从而推导出 π 的估计值：\(\pi \approx \frac{2n}{m}\)

## 三、实验环境
### 3.1 硬件环境
- 计算机型号：[填写计算机型号]
- CPU：[填写 CPU 型号]
- 内存：[填写内存容量]

### 3.2 软件环境
- 操作系统：[填写操作系统名称及版本]
- 编程语言：[填写使用的编程语言]
- 开发工具：[填写使用的开发工具]

## 四、实验步骤
### 4.1 投针实验模拟逻辑实现
详细描述实现投针实验模拟逻辑的步骤，可附上关键代码片段。

生成随机参数：在平行线间距范围内随机生成针的中心点坐标，以及 0 到 π/2 的随机角度。
判断相交条件：根据针的长度和角度，计算针端点到最近线的距离，若距离≤0 则判定相交。
统计与计算：统计相交次数，通过概率公式计算 π 的估计值。

```python
def simulate_buffon_needle(num_trials, needle_length=1.0, line_distance=1.0):
    # 生成随机中心点和角度
    center_points = np.random.uniform(0, line_distance/2, num_trials)
    angles = np.random.uniform(0, np.pi/2, num_trials)
    
    # 计算针端点到线的距离（相交条件：距离≤0）
    distances = center_points - (needle_length/2) * np.sin(angles)
    crossings = np.sum(distances <= 0)
    
    # 计算π估计值（避免除零错误）
    if crossings == 0:
        return None, crossings
    return (2 * needle_length * num_trials) / (line_distance * crossings), crossings
```

### 4.2 实验次数设置
说明实验中设置的不同实验次数，例如：100、1000、10000、100000 等。

实验设置的次数为：100、1000、10000、100000、1000000、10000000 次，每组实验重复 5 次取平均值。

### 4.3 运行实验并记录结果
记录每次实验得到的 $\pi$ 估计值。

## 五、实验结果
### 5.1 不同实验次数下的 $\pi$ 估计值
| 实验次数 | $\pi$ 估计值 |
|----------|---------------|
| 100      | [填写估计值]  |
| 1000     | [填写估计值]  |
| 10000    | [填写估计值]  |
| 100000   | [填写估计值]  |

实验次数	π 估计值	绝对误差
100	2.97303566	0.16855699
1000	3.11163122	0.02996144
10000	3.12432803	0.01726463
100000	3.14526333	0.00367067

### 5.2 实验结果可视化
附上不同实验次数与 $\pi$ 估计值的关系图表，可使用折线图或柱状图。

![buffon_needle_accuracy](https://github.com/user-attachments/assets/10a4a983-63fe-4670-ac70-5c08fc21d6a3)

## 六、结果分析
### 6.1 实验次数对估计精度的影响
分析随着实验次数的增加， $\pi$ 估计值的变化趋势，以及估计精度的变化情况。

趋势分析：当实验次数从 100 次增加到 1000 万次时，π 估计值从 2.97 逐渐逼近 3.1416，绝对误差从 0.168 降至 0.0005，表明实验次数越多，估计精度越高。

大数定律验证：次数较少时（如 100 次），估计值波动大（误差 0.168）；次数超过 10 万次后，误差下降趋势变缓，逐渐趋近于稳定值（如 1000 万次误差 0.0005），符合概率实验的统计规律。

### 6.2 误差来源分析
讨论实验中可能存在的误差来源，如随机数生成的质量、模拟逻辑的近似等。

随机数生成误差：计算机生成的伪随机数并非完全随机，可能导致概率分布偏差。

样本量不足：即使 1000 万次实验，仍存在统计波动（如 100 万次估计值 3.1433，略大于真实值）。

浮点计算精度：Python 浮点数运算存在精度限制，多次迭代可能累积误差。

## 七、实验结论
总结实验结果，说明 Buffon 投针实验是否能够有效估计 $\pi$ 的值，以及实验次数对估计精度的影响是否符合预期。

有效性验证：Buffon 投针实验能够通过概率统计方法有效估计 π 值，当实验次数足够大时（如 1000 万次），估计值与真实值的误差可降至 0.001 以内。

次数与精度关系：实验次数与估计精度呈正相关，符合 “大数定律”—— 次数越多，估计值越接近真实 π 值，但精度提升的边际效益随次数增加而递减。

应用意义：该实验验证了概率方法在数学常数估计中的可行性，为蒙特卡洛模拟等统计方法提供了理论支持。       
